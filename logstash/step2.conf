input {
  stdin { }
}

 filter {
  grok {
    match => {
      
      "message" => '%{TESTTIME:time}\|%{JAVACLASS:class_name}~%{WORD:method}~%{NUMBER:user_id}~%{DATA:info}\~%{IPORHOST:remote_ip}~%{NUMBER:level}~%{DATA:status_name}~%{WORD:status_tag}~%{NUMBER:status}'
    }


    pattern_definitions => {  
      "TESTTIME" => "20%{YEAR}/%{MONTHNUM}/%{MONTHDAY}-%{HOUR}:?%{MINUTE}(?::?%{SECOND})"

    }
  }

 
}

output {
  stdout {
   codec => rubydebug {}
  }
}
